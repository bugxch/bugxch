# Template Method模式精解（C++版本）

设计模式第三弹，设计模式**行为型模式**中的模板方法，也比较简单。

<!--more-->
## 使用情景
当你只希望客户端扩展某个特定算法步骤， 而不是整个算法或其结构时， 可使用模板方法模式。模板方法将整个算法转换为一系列独立的步骤， 以便子类能对其进行扩展， 同时还可让超类中所定义的结构保持完整。可以设想我们上学时候临摹毛笔字，你可以使用墨汁沿着田字格中的汉字临摹，也可以使用红墨水临摹，无论用哪种颜色的墨水，最后完成的字的形状是一样的。

![图片来自网络](https://pic.imgdb.cn/item/608bf40bd1a9ae528f53b668.png)

汉字的字形就是模板，每个学生使用不同的工具或者墨水按照模板习字，就是模板方法。

## 问题引入

Template Method就是带有模板功能的模式，它有下面的特点：
1. 组成模板的方法被定义在父类中，但是这些方法是抽象方法，具体的方法实现由各个子类实现；
2. 父类中定义了**处理流程的框架**，这个流程由上面定义的这些方法**按照特定的步骤完成**。

打一个比方，如果我们村里的每个人盖一座房子，无论是谁都需要完成如下的步骤，准备材料，设计图纸，雇佣施工队，开工建设，完成这些步骤之后才能盖起一座完整的房子。但是不同的人使用的材料不同，设计的图纸不同，施工队的质量也不一样，依照主人的品味和资金实力每一个步骤不同的人做就有不同的效果。这里的所有步骤就是模板方法，不同的人就是子类。

## UML表示及代码

参考《图解设计模式》中第三章的例子，UML图及代码如下所示

![](https://pic.imgdb.cn/item/608bf6c0d1a9ae528f6ea0ee.png)
每个类的作用如下
![](https://pic.imgdb.cn/item/608bf701d1a9ae528f712d27.png)
## 角色说明


---

{{< figure src="https://pic.downk.cc/item/5ff098c63ffa7d37b39c239f.jpg" title="欢迎扫码关注我的公众号" >}}
